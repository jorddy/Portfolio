---
import type { MarkdownInstance } from "astro";
import { HeadingThree, Text } from "./typography";
import { Image } from "@astrojs/image/components";

const { posts } = Astro.props as {
  posts: MarkdownInstance<Post>[];
};
---

<div class='grid grid-cols-1 gap-4 md:grid-cols-2'>
  {
    posts.map(post => (
      <a
        href={post.url}
        class='cursor-pointer rounded-sm border-2 border-gray-900 bg-white 
          transition hover:rotate-2 hover:scale-105 focus:rotate-2 focus:scale-105'
        aria-label={`Link to ${post.frontmatter.title}`}
      >
        <Image
          src={post.frontmatter.image}
          alt={post.frontmatter.title}
          format='webp'
          width={1200}
          height={800}
          class='max-h-96 w-full object-cover transition'
        />

        <div class='space-y-6 p-8'>
          <Text>
            Published: {new Date(post.frontmatter.date).toLocaleDateString()}
          </Text>
          <HeadingThree>{post.frontmatter.title}</HeadingThree>
          <hr class='w-20 border-gray-900' />
          <Text>{post.frontmatter.summary}</Text>
        </div>
      </a>
    ))
  }
</div>
