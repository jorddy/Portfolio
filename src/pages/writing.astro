---
import { getCollection } from "astro:content";
import BaseLayout from "../components/base.astro";

const posts = await getCollection("posts");
---

<BaseLayout title='Writing'>
  <section class='writing l-flow'>
    <h1>Writing</h1>
    <ul role='list' class='l-flow'>
      {
        posts.map(post => (
          <li>
            <a class='post l-flow' href={`/writing/${post.slug}`}>
              <h3>{post.data.title}</h3>
              <p>
                {post.data.date.toLocaleDateString("en-gb", {
                  dateStyle: "long"
                })}
              </p>
            </a>
          </li>
        ))
      }
    </ul>
  </section>
</BaseLayout>

<style>
  .writing {
    --flowSpace: 2rem;
  }

  .post {
    --flowSpace: 1rem;
  }
</style>
